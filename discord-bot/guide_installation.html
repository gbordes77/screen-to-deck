<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Guide d'installation - MTG Screen-to-Deck Bot</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background: #f8f9fa; color: #222; }
    h1 { color: #2a4d7c; font-size: 2.2em; }
    .badge { display: inline-block; background: #1b7c2a; color: #fff; border-radius: 12px; padding: 2px 12px; font-size: 1em; margin-right: 0.7em; vertical-align: middle; font-weight:bold; letter-spacing:1px; }
    .icon { font-size: 1.2em; vertical-align: middle; margin-right: 0.2em; }
    .step { background: #fff; border-left: 6px solid #2a4d7c; margin: 1.2em 0; padding: 1em 1.5em; border-radius: 8px; box-shadow: 0 2px 8px #0001; }
    .step-title { font-size: 1.1em; color: #2a4d7c; font-weight: bold; margin-bottom: 0.3em; }
    .tip { background: #e6f4ea; color: #1b7c2a; border-left: 5px solid #1b7c2a; padding: 0.7em 1em; border-radius: 5px; margin: 1em 0; }
    .warn { background: #fffbe6; color: #b85c00; border-left: 5px solid #ffd700; padding: 0.7em 1em; border-radius: 5px; margin: 1em 0; }
    .btn { display:inline-block; background:#2a4d7c; color:#fff; font-weight:bold; border-radius:8px; padding:0.7em 1.5em; margin-bottom:1.5em; text-decoration:none; font-size:1.1em; box-shadow:0 2px 6px #0001; transition:background 0.2s; vertical-align:middle; }
    ul { margin-top: 0.5em; }
    a { color: #1b7c2a; text-decoration: underline; font-weight: bold; }
    footer { margin-top:3em; color:#888; font-size:0.9em; }
    code { background: #f4f4f4; border-radius: 4px; padding: 2px 6px; }
    pre { background: #f4f4f4; border-radius: 4px; padding: 1em; overflow-x: auto; }
  </style>
</head>
<body>
  <h1><span class="icon">üöÄ</span>Guide d'installation - MTG Screen-to-Deck Bot <span class="badge">STD</span></h1>

  <div class="step">
    <div class="step-title"><span class="icon">üìã</span>Pr√©requis</div>
    <ul>
      <li><b>Python 3.10+</b> install√© (3.11 ou 3.12 recommand√©)</li>
      <li><b>Tesseract OCR</b> install√© sur votre syst√®me</li>
      <li><b>Un bot Discord</b> cr√©√© avec son token</li>
      <li><b>Git</b> (optionnel mais recommand√©)</li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">1Ô∏è‚É£</span>T√©l√©charger le projet</div>
    <pre># Option A : Cloner avec Git
git clone https://github.com/yourusername/screen-to-deck.git
cd screen-to-deck

# Option B : T√©l√©charger et extraire le ZIP
# T√©l√©chargez depuis GitHub et extrayez dans un dossier</pre>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">2Ô∏è‚É£</span>Installer Tesseract OCR</div>
    <ul>
      <li><b>Ubuntu/Debian :</b><br><code>sudo apt-get update && sudo apt-get install tesseract-ocr tesseract-ocr-fra</code></li>
      <li><b>macOS :</b><br><code>brew install tesseract</code></li>
      <li><b>Windows :</b>
        <ol>
          <li>T√©l√©chargez l'installateur depuis <a href="https://github.com/UB-Mannheim/tesseract/wiki" target="_blank">UB Mannheim</a></li>
          <li>Installez en notant le chemin d'installation</li>
          <li>Ajoutez Tesseract au PATH syst√®me</li>
        </ol>
      </li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">3Ô∏è‚É£</span>Configurer le bot Discord</div>
    <ol>
      <li>Allez sur <a href="https://discord.com/developers/applications" target="_blank">Discord Developer Portal</a></li>
      <li>Cliquez sur <b>New Application</b> et donnez un nom (ex: "MTG Scanner")</li>
      <li>Allez dans <b>Bot</b> ‚Üí <b>Add Bot</b></li>
      <li>Copiez le <b>TOKEN</b> (gardez-le secret!)</li>
      <li>Activez les <b>Intents</b> : MESSAGE CONTENT INTENT, SERVER MEMBERS INTENT</li>
    </ol>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">4Ô∏è‚É£</span>Pr√©parer l'environnement</div>
    <pre># Copier la configuration
cp .env.example .env

# √âditer .env et ajouter votre token
# Linux/Mac :
nano .env
# Windows :
notepad .env

# Remplacez 'your_discord_bot_token_here' par votre vrai token</pre>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">5Ô∏è‚É£</span>Lancer le bot</div>
    <ul>
      <li><b>Linux/macOS :</b>
        <pre>chmod +x start_bot.sh
./start_bot.sh</pre>
      </li>
      <li><b>Windows :</b>
        <pre>python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
python bot_enhanced.py</pre>
      </li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">6Ô∏è‚É£</span>Configuration avanc√©e</div>
    <ul>
      <li><b>Ajuster les zones de scan OCR</b> (si besoin, modifiez dans <code>.env</code>) :
        <pre># Zones pour le main deck (colonnes gauche et droite)
OCR_ZONE_MAIN_LEFT=0.22,0.47
OCR_ZONE_MAIN_RIGHT=0.47,0.72
# Zone pour le sideboard
OCR_ZONE_SIDEBOARD=0.82,0.98</pre>
      </li>
      <li><b>Mode debug</b> :
        <pre>DEBUG_MODE=true
SAVE_DEBUG_IMAGES=true</pre>
      </li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">7Ô∏è‚É£</span>Utilisation du bot</div>
    <ul>
      <li><b>Inviter le bot sur votre serveur</b> :<br>
        G√©n√©rez un lien d'invitation avec les permissions : Send Messages, Embed Links, Attach Files, Read Message History, Add Reactions, Use Slash Commands<br>
        <span style="font-size:0.95em;">URL : <code>https://discord.com/api/oauth2/authorize?client_id=YOUR_BOT_ID&permissions=51200&scope=bot%20applications.commands</code></span>
      </li>
      <li><b>Scanner un deck</b> :
        <ul>
          <li><b>M√©thode 1 : R√©action automatique</b> : Envoyez un screenshot, cliquez sur üì∑</li>
          <li><b>M√©thode 2 : Commande</b> : Envoyez un screenshot, tapez <code>!scan</code></li>
        </ul>
      </li>
      <li><b>Formats d'export</b> : Arena, MTGO, Moxfield</li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">8Ô∏è‚É£</span>R√©solution des probl√®mes</div>
    <ul>
      <li><b>"Token Discord non configur√©"</b> : V√©rifiez que vous avez bien √©dit√© <code>.env</code> avec votre token</li>
      <li><b>"Tesseract n'est pas install√©"</b> : Installez Tesseract selon votre OS (voir √©tape 2)</li>
      <li><b>"Aucune carte d√©tect√©e"</b> :
        <ul>
          <li>L'image est nette et bien √©clair√©e</li>
          <li>Le deck est visible en entier</li>
          <li>L'image n'est pas trop compress√©e</li>
        </ul>
      </li>
      <li><b>Debug avanc√©</b> :
        <ol>
          <li>Lancez le test OCR : <code>python test_ocr_final.py votre_screenshot.png</code></li>
          <li>V√©rifiez l'image de debug g√©n√©r√©e (<code>debug_zones_*.jpg</code>)</li>
          <li>Les rectangles doivent √™tre sur les NOMS des cartes</li>
        </ol>
      </li>
    </ul>
  </div>

  <div class="step">
    <div class="step-title"><span class="icon">9Ô∏è‚É£</span>Optimisation des r√©sultats OCR</div>
    <ul>
      <li><b>Qualit√© d'image</b> : Utilisez des screenshots en pleine r√©solution</li>
      <li><b>√âclairage</b> : √âvitez les reflets sur l'√©cran</li>
      <li><b>Cadrage</b> : Capturez tout le deck, pas juste une partie</li>
      <li><b>Format</b> : PNG pr√©f√©r√© √† JPG pour moins de compression</li>
      <li><b>Ajustement manuel des zones</b> : Lancez <code>python test_ocr_final.py votre_screenshot.png</code> et suivez les instructions</li>
    </ul>
  </div>

  <div class="tip">
    <span class="icon">üéâ</span><b>C'est parti !</b> Votre bot est maintenant pr√™t √† scanner des decks Magic Arena !<br>
    <b>Commandes disponibles :</b> <code>!help</code>, <code>!scan</code>, <code>!stats</code>
  </div>

  <footer>
    Un projet Screen To Deck (STD) ‚Äî 2025<br>
    <span style="color:#b85c00;">D√©velopp√© avec ‚ù§Ô∏è pour la communaut√© Magic: The Gathering</span>
  </footer>
</body>
</html> 